<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Organic Chemistry Review - Study Coach</title>
    <link rel="stylesheet" href="shared-styles.css">
    <style>

        /* Session Detail specific styles */

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 32px 24px;
        }

        .session-header {
            margin-bottom: 32px;
        }

        .breadcrumb {
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .breadcrumb a {
            color: #1a73e8;
            text-decoration: none;
            font-size: 14px;
        }

        .breadcrumb a:hover {
            text-decoration: underline;
        }

        .breadcrumb-separator {
            color: #5f6368;
            font-size: 14px;
        }

        .session-title-section {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 24px;
        }

        .session-title h1 {
            margin-bottom: 8px;
        }

        .session-meta {
            display: flex;
            gap: 24px;
            flex-wrap: wrap;
        }

        .session-meta-item {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 14px;
            color: #5f6368;
        }

        .session-badge {
            background: #e8f5e8;
            color: #2e7d32;
            padding: 6px 16px;
            border-radius: 16px;
            font-size: 12px;
            font-weight: 500;
            border: 1px solid #c8e6c9;
        }

        .session-overview {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
        }

        .overview-metric {
            text-align: center;
            padding: 24px 16px;
            border-radius: 12px;
            border: 1px solid #e8eaed;
            background: #ffffff;
        }

        .overview-metric .value {
            font-size: 32px;
            font-weight: 400;
            margin-bottom: 4px;
            line-height: 1;
        }

        .overview-metric.focus .value { color: #34a853; }
        .overview-metric.attention .value { color: #fbbc04; }
        .overview-metric.materials .value { color: #1a73e8; }
        .overview-metric.artifacts .value { color: #9c27b0; }

        .overview-metric .label {
            font-size: 14px;
            color: #5f6368;
            font-weight: 400;
        }

        .content-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 32px;
        }

        .main-content {
            display: flex;
            flex-direction: column;
            gap: 32px;
        }

        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        .section h2 {
            margin-bottom: 24px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .section-icon {
            font-size: 20px;
        }

        .tabs {
            display: flex;
            margin-bottom: 24px;
            border-bottom: 2px solid #e8eaed;
            gap: 8px;
        }

        .tab {
            padding: 12px 16px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            color: #5f6368;
            border-bottom: 2px solid transparent;
            transition: all 0.2s;
            border-radius: 8px 8px 0 0;
        }

        .tab:hover {
            background: #f8f9fa;
        }

        .tab.active {
            color: #1a73e8;
            border-bottom-color: #1a73e8;
            background: #e8f0fe;
        }

        .focus-chart {
            height: 300px;
            background: #f8f9fa;
            border-radius: 12px;
            border: 1px solid #e8eaed;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #5f6368;
            font-style: italic;
            font-size: 14px;
            text-align: center;
            line-height: 1.5;
        }

        .timeline {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .timeline-item {
            display: flex;
            gap: 12px;
            padding: 16px;
            background: #f8f9fa;
            border-radius: 12px;
            border-left: 4px solid #1a73e8;
            border: 1px solid #e8eaed;
            border-left-color: #1a73e8;
        }

        .timeline-time {
            color: #5f6368;
            font-size: 12px;
            font-weight: 500;
            min-width: 48px;
            font-family: 'Roboto', monospace;
        }

        .timeline-content {
            flex: 1;
        }

        .timeline-title {
            font-weight: 500;
            margin-bottom: 2px;
            font-size: 14px;
            color: #202124;
        }

        .timeline-desc {
            color: #5f6368;
            font-size: 12px;
            line-height: 1.3;
        }

        .artifact-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 16px;
        }

        .artifact-card {
            background: #ffffff;
            border-radius: 12px;
            padding: 16px;
            border: 1px solid #e8eaed;
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .artifact-card:hover {
            transform: translateY(-1px);
            box-shadow: 0 1px 3px 0 rgba(60, 64, 67, 0.08), 0 4px 8px 3px rgba(60, 64, 67, 0.04);
        }

        .artifact-type {
            display: inline-block;
            background: #e8f0fe;
            color: #1a73e8;
            padding: 4px 12px;
            border-radius: 16px;
            font-size: 12px;
            font-weight: 500;
            margin-bottom: 12px;
            border: 1px solid #dadce0;
        }

        .artifact-type.flashcard {
            background: #fff3e0;
            color: #e65100;
            border-color: #ffcc02;
        }

        .artifact-type.summary {
            background: #e8f5e8;
            color: #2e7d32;
            border-color: #c8e6c9;
        }

        .artifact-title {
            font-weight: 500;
            margin-bottom: 8px;
            font-size: 14px;
            color: #202124;
        }

        .artifact-preview {
            color: #5f6368;
            font-size: 12px;
            line-height: 1.4;
        }



        .insights-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .insight-item {
            padding: 16px;
            background: #e8f5e8;
            border-radius: 12px;
            border: 1px solid #c8e6c9;
        }

        .insight-title {
            font-weight: 500;
            margin-bottom: 4px;
            color: #2e7d32;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .insight-desc {
            color: #2e7d32;
            font-size: 12px;
            line-height: 1.4;
            opacity: 0.8;
        }

        .ai-chat-container {
            border: 1px solid #e8eaed;
            border-radius: 16px;
            overflow: hidden;
            background: #ffffff;
        }

        .chat-messages {
            max-height: 300px;
            overflow-y: auto;
            padding: 16px;
            background: #f8f9fa;
        }

        .ai-message {
            display: flex;
            gap: 8px;
            margin-bottom: 16px;
        }

        .user-message {
            display: flex;
            gap: 8px;
            margin-bottom: 16px;
            flex-direction: row-reverse;
        }

        .message-avatar {
            width: 28px;
            height: 28px;
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 11px;
            font-weight: 500;
            flex-shrink: 0;
        }

        .ai-avatar {
            background: linear-gradient(135deg, #1a73e8 0%, #4285f4 100%);
            color: white;
        }

        .user-avatar {
            background: #34a853;
            color: white;
        }

        .message-content {
            flex: 1;
            max-width: 80%;
        }

        .message-text {
            background: white;
            padding: 12px 16px;
            border-radius: 16px;
            box-shadow: 0 1px 3px 0 rgba(60, 64, 67, 0.08);
            font-size: 14px;
            line-height: 1.4;
            margin-bottom: 4px;
            border: 1px solid #e8eaed;
        }

        .user-message .message-text {
            background: #1a73e8;
            color: white;
            border-color: #1a73e8;
        }

        .message-time {
            font-size: 11px;
            color: #5f6368;
            margin-left: 16px;
        }

        .chat-input-container {
            padding: 16px;
            background: white;
            border-top: 1px solid #e8eaed;
        }

        .suggested-questions {
            display: flex;
            gap: 8px;
            margin-bottom: 12px;
            flex-wrap: wrap;
        }

        .suggestion-btn {
            background: #f8f9fa;
            border: 1px solid #dadce0;
            border-radius: 16px;
            padding: 6px 12px;
            font-size: 12px;
            color: #5f6368;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .suggestion-btn:hover {
            background: #e8eaed;
            border-color: #c4c7c5;
        }

        .chat-input-wrapper {
            display: flex;
            gap: 8px;
            align-items: center;
        }

        .chat-input {
            flex: 1;
            padding: 12px 16px;
            border: 1px solid #dadce0;
            border-radius: 24px;
            font-size: 14px;
            outline: none;
            transition: all 0.2s ease;
            background: #ffffff;
        }

        .chat-input:focus {
            border-color: #1a73e8;
            box-shadow: 0 0 0 1px #1a73e8;
        }

        .send-btn {
            width: 40px;
            height: 40px;
            background: #1a73e8;
            color: white;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            transition: all 0.2s ease;
        }

        .send-btn:hover {
            background: #1557b0;
            transform: scale(1.02);
        }

        .send-btn:active {
            transform: scale(0.98);
        }

        /* Custom scrollbar for chat */
        .chat-messages::-webkit-scrollbar {
            width: 4px;
        }

        .chat-messages::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 2px;
        }

        .chat-messages::-webkit-scrollbar-thumb {
            background: #ccc;
            border-radius: 2px;
        }

        .chat-messages::-webkit-scrollbar-thumb:hover {
            background: #999;
        }

        .action-buttons {
            display: flex;
            gap: 12px;
            margin-top: 32px;
            flex-wrap: wrap;
        }

        @media (max-width: 768px) {
            .content-grid {
                grid-template-columns: 1fr;
            }

            .session-overview {
                grid-template-columns: repeat(2, 1fr);
            }

            .artifact-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <a href="dashboard.html" class="logo">
                <div class="logo-icon">
                    <span class="material-icons-round">psychology</span>
                </div>
                Study Coach
            </a>
            <div class="header-actions">
                <button class="icon-button" title="Notifications">
                    <span class="material-icons-round">notifications</span>
                </button>
                <button class="icon-button" title="Settings">
                    <span class="material-icons-round">settings</span>
                </button>
                <div class="user-avatar" title="Profile">JD</div>
            </div>
        </div>
    </header>

    <main class="container">
        <div class="session-header card-large">
            <div class="breadcrumb">
                <a href="dashboard.html">Dashboard</a>
                <span class="breadcrumb-separator">
                    <span class="material-icons-round" style="font-size: 14px;">chevron_right</span>
                </span>
                <span class="body-small text-secondary">Session Details</span>
            </div>
            
            <div class="session-title-section">
                <div>
                    <h1 class="headline-large">Organic Chemistry Review</h1>
                    <div class="session-meta">
                        <div class="session-meta-item">
                            <span class="material-icons-round" style="font-size: 16px;">schedule</span>
                            Today, 2:30 PM - 4:45 PM
                        </div>
                        <div class="session-meta-item">
                            <span class="material-icons-round" style="font-size: 16px;">timer</span>
                            2h 15m
                        </div>
                        <div class="session-meta-item">
                            <span class="material-icons-round" style="font-size: 16px;">tag</span>
                            Session #2847
                        </div>
                    </div>
                </div>
                <div class="session-badge">Completed</div>
            </div>

            <div class="session-overview">
                <div class="overview-metric focus">
                    <div class="value">88%</div>
                    <div class="label">Focus Score</div>
                </div>
                <div class="overview-metric attention">
                    <div class="value">78%</div>
                    <div class="label">Attention</div>
                </div>
                <div class="overview-metric materials">
                    <div class="value">34</div>
                    <div class="label">Materials Captured</div>
                </div>
                <div class="overview-metric artifacts">
                    <div class="value">15</div>
                    <div class="label">Study Artifacts</div>
                </div>
            </div>
        </div>

        <div class="content-grid">
            <div class="main-content">
                <div class="section card">
                    <h2 class="title-large">
                        <span class="material-icons-round section-icon">analytics</span>
                        Focus & Attention Analytics
                    </h2>
                    <div class="tabs">
                        <button class="tab active">Focus Over Time</button>
                        <button class="tab">Attention Heatmap</button>
                        <button class="tab">Distraction Events</button>
                    </div>
                    <div class="focus-chart">
                        Interactive focus chart would be rendered here<br>
                        Focus score ranged from 65% to 95% throughout the session
                    </div>
                </div>

                <div class="section card">
                    <h2 class="title-large">
                        <span class="material-icons-round section-icon">auto_awesome</span>
                        Study Artifacts
                    </h2>
                    <div class="tabs">
                        <button class="tab active">All Artifacts</button>
                        <button class="tab">Flashcards (12)</button>
                        <button class="tab">Summaries (3)</button>
                        <button class="tab">Quizzes (0)</button>
                    </div>
                    <div class="artifact-grid">
                        <div class="artifact-card">
                            <div class="artifact-type flashcard">Flashcard</div>
                            <div class="artifact-title">Alkene Reactions</div>
                            <div class="artifact-preview">
                                Q: What is the major product of hydrobromination of 2-methylpropene?<br>
                                A: 2-bromo-2-methylpropane (Markovnikov addition)
                            </div>
                        </div>
                        <div class="artifact-card">
                            <div class="artifact-type summary">Summary</div>
                            <div class="artifact-title">Stereochemistry Principles</div>
                            <div class="artifact-preview">
                                Covers chirality, optical activity, and R/S nomenclature. Key concepts include...
                            </div>
                        </div>
                        <div class="artifact-card">
                            <div class="artifact-type flashcard">Flashcard</div>
                            <div class="artifact-title">Elimination vs Substitution</div>
                            <div class="artifact-preview">
                                Q: When does E2 elimination occur preferentially over SN2?<br>
                                A: With bulky bases and secondary/tertiary substrates
                            </div>
                        </div>
                        <div class="artifact-card">
                            <div class="artifact-type summary">Summary</div>
                            <div class="artifact-title">Reaction Mechanisms</div>
                            <div class="artifact-preview">
                                Overview of SN1, SN2, E1, and E2 mechanisms with examples and conditions...
                            </div>
                        </div>
                    </div>
                </div>

                <div class="section card">
                    <h2 class="title-large">
                        <span class="material-icons-round section-icon">smart_toy</span>
                        Ask AI About This Session
                    </h2>
                    <div class="ai-chat-container">
                        <div class="chat-messages">
                            <div class="ai-message">
                                <div class="message-avatar ai-avatar">AI</div>
                                <div class="message-content">
                                    <div class="message-text">Hi! I can help answer questions about your Organic Chemistry session. Ask me anything about the topics you covered, clarify concepts, or get additional practice problems!</div>
                                    <div class="message-time">Just now</div>
                                </div>
                            </div>
                        </div>
                        <div class="chat-input-container">
                            <div class="suggested-questions">
                                <button class="suggestion-btn">Explain Markovnikov's rule</button>
                                <button class="suggestion-btn">Create a practice problem</button>
                                <button class="suggestion-btn">What are common mistakes?</button>
                            </div>
                            <div class="chat-input-wrapper">
                                <input type="text" class="chat-input" placeholder="Ask about alkenes, stereochemistry, reactions..." />
                                <button class="send-btn">
                                    <span class="material-icons-round">send</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="sidebar">
                <div class="section card">
                    <h2 class="title-medium">
                        <span class="material-icons-round section-icon">schedule</span>
                        Session Timeline
                    </h2>
                    <div class="timeline">
                        <div class="timeline-item">
                            <div class="timeline-time">2:30</div>
                            <div class="timeline-content">
                                <div class="timeline-title">Session Started</div>
                                <div class="timeline-desc">All cameras initialized</div>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-time">2:45</div>
                            <div class="timeline-content">
                                <div class="timeline-title">High Focus Period</div>
                                <div class="timeline-desc">95% focus on alkene reactions</div>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-time">3:20</div>
                            <div class="timeline-content">
                                <div class="timeline-title">Break Detected</div>
                                <div class="timeline-desc">5 minute study break</div>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-time">4:10</div>
                            <div class="timeline-content">
                                <div class="timeline-title">Focus Dip</div>
                                <div class="timeline-desc">Attention decreased to 65%</div>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-time">4:45</div>
                            <div class="timeline-content">
                                <div class="timeline-title">Session Ended</div>
                                <div class="timeline-desc">Review completed</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="section card">
                    <h2 class="title-medium">
                        <span class="material-icons-round section-icon">lightbulb</span>
                        AI Insights
                    </h2>
                    <div class="insights-list">
                        <div class="insight-item">
                            <div class="insight-title">
                                <span class="material-icons-round" style="font-size: 14px;">trending_up</span>
                                Strong Performance
                            </div>
                            <div class="insight-desc">Your focus was consistently high during reaction mechanism practice. Consider similar deep-focus sessions for complex topics.</div>
                        </div>
                        <div class="insight-item">
                            <div class="insight-title">
                                <span class="material-icons-round" style="font-size: 14px;">psychology</span>
                                Attention Pattern
                            </div>
                            <div class="insight-desc">Attention decreased after 90 minutes. Consider taking shorter, more frequent breaks.</div>
                        </div>
                        <div class="insight-item">
                            <div class="insight-title">
                                <span class="material-icons-round" style="font-size: 14px;">balance</span>
                                Material Coverage
                            </div>
                            <div class="insight-desc">You spent 60% of time on new material and 40% reviewing. Good balance for retention.</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="action-buttons">
            <button class="primary-button">
                <span class="material-icons-round">download</span>
                Export Session Data
            </button>
            <button class="secondary-button">
                <span class="material-icons-round">quiz</span>
                Review Flashcards
            </button>
            <button class="secondary-button">
                <span class="material-icons-round">share</span>
                Share Session
            </button>
        </div>
    </main>

    <script>
        // Basic mockup functionality for AI chat
        const chatInput = document.querySelector('.chat-input');
        const sendBtn = document.querySelector('.send-btn');
        const chatMessages = document.querySelector('.chat-messages');
        const suggestionBtns = document.querySelectorAll('.suggestion-btn');

        // Sample AI responses for mockup
        const aiResponses = {
            "explain markovnikov's rule": "Markovnikov's rule states that when a protic acid (like HBr) adds to an alkene, the hydrogen atom attaches to the carbon with more hydrogen atoms already attached, while the halide attaches to the more substituted carbon. This occurs because the reaction proceeds through the more stable carbocation intermediate.",
            "create a practice problem": "Here's a practice problem: What is the major product when 2-methyl-2-butene reacts with HCl? Draw the mechanism and explain why this product forms preferentially.",
            "what are common mistakes": "Common mistakes in alkene reactions include: 1) Forgetting about stereochemistry in addition reactions, 2) Not considering carbocation rearrangements, 3) Confusing Markovnikov vs anti-Markovnikov selectivity, 4) Missing the role of reaction conditions (temperature, solvent) in determining outcomes."
        };

        function addMessage(text, isUser = false) {
            const messageDiv = document.createElement('div');
            messageDiv.className = isUser ? 'user-message' : 'ai-message';
            
            messageDiv.innerHTML = `
                <div class="message-avatar ${isUser ? 'user-avatar' : 'ai-avatar'}">
                    ${isUser ? 'You' : 'AI'}
                </div>
                <div class="message-content">
                    <div class="message-text">${text}</div>
                    <div class="message-time">Just now</div>
                </div>
            `;
            
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function handleSendMessage() {
            const message = chatInput.value.trim();
            if (!message) return;

            // Add user message
            addMessage(message, true);
            chatInput.value = '';

            // Simulate AI response
            setTimeout(() => {
                const lowercaseMessage = message.toLowerCase();
                let response = "That's a great question about your organic chemistry session! Based on the topics you covered (alkenes, stereochemistry, and reaction mechanisms), I can help clarify concepts or provide additional examples. Could you be more specific about what you'd like to explore further?";
                
                // Check for specific topics
                for (const [key, value] of Object.entries(aiResponses)) {
                    if (lowercaseMessage.includes(key)) {
                        response = value;
                        break;
                    }
                }
                
                addMessage(response);
            }, 1000);
        }

        // Event listeners
        sendBtn.addEventListener('click', handleSendMessage);
        
        chatInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                handleSendMessage();
            }
        });

        suggestionBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                chatInput.value = btn.textContent;
                handleSendMessage();
            });
        });

        // Tab functionality
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', function() {
                // Remove active from all tabs
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                // Add active to clicked tab
                this.classList.add('active');
            });
        });
    </script>
</body>
</html>